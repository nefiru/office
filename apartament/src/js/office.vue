<template>
	<div class="office">
		<div>
			<div>
				<div></div>
				<span>
					Комерческая недвижимость
				</span>
			</div>
			<div>
				<div></div>
				<span>
					Апартаменты
				</span>
			</div>
		</div>
		<svg
		   width="238mm"
		   height="339mm"
		   viewBox="0 0 238 339"
		    >

		  
		  <g
		     transform="translate(0,42)">

		     <image 
		      preserveAspectRatio="none"
		        height="338.66666"
		        width="236.80208"
		        y="-41.66666"
		        x="1.0394408"
		        id="image152"
		      xlink:href="img/test_2.png" />
		  </g>
		  <g
		     inkscape:groupmode="layer"
		     inkscape:label="Layer 2"
		     id="layer2">

		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 27.875743,286.9338 v 12.66219 l 47.624999,-0.47247 91.942708,-1.22843 30.42708,-0.56695 v -8.03201 L 75.784225,284.94942 Z"
		       id="path961"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 28.064732,277.29539 47.341517,-4.15774 91.092261,7.18156 32.12798,2.45684 0.0945,4.72469 -123.7872,-5.85861 -46.774555,2.55132 z"
		       id="path963"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 27.59226,265.95612 0.283483,9.54389 47.719495,-5.10267 122.936752,11.0558 v -6.61459 L 75.595238,259.05804 Z"
		       id="path965"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 30.049107,255.08929 0.566965,9.26042 44.979166,-8.03199 123.031252,17.10341 v -6.61459 L 75.689732,245.16742 Z"
		       id="path967"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 31.466517,246.67933 0.377976,5.76413 43.656249,-10.11086 118.117558,21.82812 0.0945,-2.36235 -39.97099,-10.11086 -78.146572,-16.63095 z"
		       id="path969"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 31.56101,238.26935 v 5.95313 l 44.034228,-12.09524 78.335562,17.57589 39.6875,10.39435 0.0945,-4.06324 -39.6875,-11.52828 -78.524558,-19.65476 z"
		       id="path971"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,229.48141 0.188989,5.48065 42.333333,-13.70163 78.902524,20.41071 39.6875,12.37872 -0.18898,-3.87426 -39.87649,-13.32366 -31.8445,-6.14211 -51.877228,-14.36309 z"
		       id="path973"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,222.01638 v 4.63021 l 37.230655,-13.60715 52.066221,14.64658 31.93899,6.61458 39.97098,13.98512 -0.0945,-3.21279 -40.06547,-14.83557 -31.8445,-6.99256 -51.877228,-15.78051 z"
		       id="path975"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,214.36236 0.09449,4.44122 37.230655,-14.93006 52.066221,16.53646 31.8445,7.27604 39.87648,15.30804 -0.0945,-3.2128 -39.87649,-16.34747 -32.12797,-7.74851 -51.87724,-17.57589 z"
		       id="path977"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.69494,206.70834 0.188987,4.8192 37.136162,-16.63095 51.971721,17.85937 32.03349,8.12649 39.78199,16.91443 v -3.30729 l -39.97098,-17.76488 -32.22247,-8.59896 -51.877233,-19.08779 z"
		       id="path979"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,199.14882 0.09449,4.44122 37.230655,-18.14286 51.971731,19.74926 31.75,8.97693 40.06547,18.52083 v -3.40178 L 153.9308,209.82665 121.70833,200.56623 69.8311,179.87203 Z"
		       id="path981"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.69494,191.4948 0.188987,4.44122 37.230655,-19.46577 51.782738,21.26116 32.12798,9.5439 39.78199,20.03273 -0.0945,-3.1183 -40.06548,-20.97768 -31.75,-9.92187 -51.877231,-22.48959 z"
		       id="path983"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.69494,182.80135 0.283483,5.57515 37.041666,-21.16667 51.971721,22.96206 32.12798,10.39434 39.87649,21.45015 -0.18899,-3.77976 -40.06548,-22.77307 -31.75,-10.77232 -51.971721,-24.19048 z"
		       id="path985"
		       inkscape:connector-curvature="0" />

		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,175.24183 0.09449,4.34672 37.230655,-22.77306 51.593751,24.66294 32.31697,11.1503 39.87648,23.71801 -0.0945,-3.40179 -39.87649,-24.28497 -32.03348,-11.24479 -51.877234,-26.08036 z"
		       id="path987"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,167.39882 v 4.63021 l 37.230655,-24.47396 52.160711,26.55283 31.8445,11.71726 39.87648,25.13542 -0.0945,-3.11831 L 153.9308,182.0454 121.89732,169.76117 70.114582,142.16891 Z"
		       id="path989"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,160.02828 0.188989,4.15774 37.136159,-25.79687 52.066218,28.25372 31.75,12.56771 39.87649,26.45833 V 202.6451 L 153.83631,175.14733 121.80283,162.29614 70.209076,133.00299 Z"
		       id="path991"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,152.37426 0.09449,4.25224 37.230655,-27.11979 51.782741,29.38764 31.93899,13.41816 40.06547,28.06473 -0.0945,-3.1183 -39.78199,-28.82069 -32.12798,-13.60714 -51.877234,-30.89955 z"
		       id="path993"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,144.72025 0.09449,4.44122 37.230655,-28.91518 51.877231,31.27753 32.03349,14.07961 39.97098,29.76563 -0.18899,-3.2128 -39.87649,-30.33259 -31.84449,-14.45759 -51.971731,-32.69494 z"
		       id="path995"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.874151,141.42101 37.217283,-30.20145 51.900376,32.93372 31.93899,14.74107 39.97098,31.08855 -0.18898,-3.02381 -39.87649,-31.93899 -31.8445,-15.21354 -51.782734,-34.20685 -37.419642,31.37203 z"
		       id="path997"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,129.50671 v 4.15774 l 37.230655,-31.8445 51.877231,34.67931 32.03348,15.59152 39.97098,32.69494 -0.0945,-3.21279 -39.87649,-33.3564 L 122.0863,132.53051 70.209066,96.339296 Z"
		       id="path999"
		       inkscape:connector-curvature="0" />
		    <path
		       style="fill:#e6e6e6;stroke:#000000;stroke-width:0;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1;opacity:0.4;stroke-miterlimit:4;stroke-dasharray:none"
		       d="m 32.789434,121.6637 0.09449,4.25223 37.136162,-33.072915 51.971724,36.191225 31.93899,16.25297 39.97098,34.20685 v -3.11831 L 154.0253,141.41296 122.08631,124.782 70.114582,87.456856 Z"
		       id="path1001"
		       inkscape:connector-curvature="0" />

		  </g>
		</svg>

		<div v-if="activePop" :style="{left: leftPop + 'px', top: topPop + 'px'}">
			<span>
				Этаж {{floorLocal}}
			</span>
		</div>
	</div>
</template>

<style lang="scss" scoped>
	.office {
		width: 100%;
		display: flex;
		flex-direction: column;
		// justify-content: flex-start;
		align-items: center;
		padding: 50px 0;
		overflow: auto;
		background: #f8f6f7;

		&>div:first-child {
			display: flex;
			// flex-direction: column;
			flex-wrap: wrap;
			align-items: center;
			justify-content: center;
			width: 100%;
			// margin: 30px;
			order: -1;

			&>div {
				width: 270px;
				display: flex;
				align-items: center;
				margin: 15px;
				margin-top: 0;

				&:last-child {
					// margin-bottom: 25px;

					&>div {
						background-color: #e6e6e6;
					}	
				}
				&:first-child {
					&>div {
						background-color: green;
					}
				}
				&>div {
					width: 30px;
					height: 30px;
					border-radius: 15px;
					border: solid #000 1px;
					margin-right: 20px;
				}
				&>span {
					font-family: arial;
					font-size: 15px;
					color: #000;
					font-weight: 800;
				}
			}
		}

		&> svg {
			width: auto;
			height: 200vh;

			&>g:last-child > path {
				cursor: pointer;
			}
			&>g:last-child > path:hover {
				opacity: 0.8 !important;
			}
			&>g:last-child > path:nth-child(-n+6) {
				fill: green !important;
			}
		}

		&>div:last-child {
			position: absolute;
			padding: 20px;
			background-color: #fff;
			border-radius: 10px;
			top: -1000px;
			left: -1000px;

			&:before {
				content: '';
				position: absolute;
				border: 15px solid transparent;
				border-left: 15px solid #fff;
				right: -30px;
				top: 50%;
				transform: translateY(-50%); 
			}
		}
	}

		
</style>

<script type="text/javascript">
	export default ({
		data: function () {
			return {
				floorLocal: '',
				activePop: true,
				paths: '',
				topPop: '',
				leftPop: ''
			}	
		},
		methods: {
			hoverFloor ( floor, pageX, pageY ) {
				this.floorLocal = floor;
				this.activePop = true;
				this.leftPop = pageX - 150;
				this.topPop = pageY - 32;
			}
		},
		computed: {
			
		},
		mounted: function () {
			
			this.paths = document.querySelectorAll( "#layer2 > path" );
			for ( let i = 0; i < this.paths.length; i++ ) {
				this.paths[ i ].addEventListener( 'mousemove', function (e) {
					this.hoverFloor(i+1, e.pageX, e.pageY);
				}.bind(this) );
				this.paths[ i ].addEventListener( 'mouseout', function () {
					this.activePop = false;
				}.bind(this) );
				this.paths[ i ].addEventListener( 'click', function () {
					window.location.href = location.pathname + '?floor=' + (i + 1);
				} );
			}
		}
	});
</script>